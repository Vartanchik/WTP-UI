<div class="section-container">
  <h2>List of users</h2>
  <div class="reglist">
  <!-- <table class="table table-inverse table-hover"> -->
  <table class="table table-striped">
    <thead class="thead-dark">
      <tr>
        <th>ID</th>
        <th>username</th>
        <th>email</th>
        <th>photoUrl</th>
        <th>gender</th>
        <th>birthday</th>
        <th>country</th>
        <th>steamId</th>
        <th></th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let user of users; let i = index">
        <td>{{user.id}}</td>
        <td>{{user.username}}</td>
        <td>{{user.email}}</td>
        <td>{{user.photoUrl}}</td>
        <td>{{user.gender}}</td>
        <td>{{user.birthday | date:'short'}}</td>
        <td>{{user.country}}</td>
        <td>{{user.steamId}}</td>
        <td>
            <button type="button" class="btn btn-info" (click)="onEdit(i)">Edit</button>
          </td>
          <td>
            <button type="button" class="btn btn-danger" (click)="onDelete(i)">Delete</button>
          </td>
      </tr>
    </tbody>
  </table>
  <div class="text-right">
      <button type="submit" class="btn btn-primary" (click)="onNew()">New</button>
    </div>
  </div>
  <br>
  <div class="regentry" *ngIf="showNew">
    <form (ngSubmit)="onSave()" #userForm="ngForm">
      <div class="form-group row">
        <label for="username-input" class="col-2 col-form-label">nameOfUser</label>
        <div class="col-10">
          <input required pattern="^[a-zA-Z]+$" class="form-control" type="text" [(ngModel)]="userModel.username" name="nameOfUser" #nameOfUser="ngModel">
          <div class="alert alert-danger"
          *ngIf="nameOfUser.errors?.required && nameOfUser.touched">
          nameOfUser is required!
      </div>
      <div class="alert alert-danger"
          *ngIf="nameOfUser.errors?.pattern && nameOfUser.touched">
          nameOfUser is invalid!
      </div>
        </div>
      </div>
      <div class="form-group row">
        <label for="email-input" class="col-2 col-form-label">userEmail</label>
        <div class="col-10">
          <input required pattern="^[a-zA-Z0-9]+@+[a-z]+.+[a-z]+$" class="form-control" type="text" [(ngModel)]="userModel.email" name="userEmail" #userEmail="ngModel">
          <div class="alert alert-danger"
          *ngIf="userEmail.errors?.required && userEmail.touched">
          Description is required!
      </div>
      <div class="alert alert-danger"
          *ngIf="userEmail.errors?.pattern && userEmail.touched">
          Description is invalid!
      </div>
        </div>
      </div>
      <button type="submit"  [disabled]="userForm.form.invalid" class="btn btn-success">{{submitType}}</button>
      <button type="submit" class="btn btn-primary" (click)="onCancel()">Cancel</button>
    </form>
  </div>
</div>
